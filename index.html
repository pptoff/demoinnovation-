<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Klongtoey Smart Asset - Deep Demo</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap');
        
        /* Global Reset */
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #f3f4f6; /* Gray-100 */
            margin: 0;
            height: 100vh;
            overflow: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        /* Mobile Container */
        #app-root {
            width: 100%;
            height: 100%;
            max-width: 480px; /* Limit width on desktop */
            margin: 0 auto;
            background: #ffffff;
            position: relative;
            display: flex;
            flex-direction: column;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        /* Scrollable Content Area */
        #main-view {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
            padding-bottom: 100px; /* Space for Bottom Nav */
            scroll-behavior: smooth;
        }
        #main-view::-webkit-scrollbar { width: 0px; } /* Hide Scrollbar */

        /* Bottom Navigation */
        .bottom-nav {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-around;
            align-items: center;
            height: 70px; /* Fixed height */
            padding-bottom: env(safe-area-inset-bottom);
            z-index: 50;
        }

        /* Floating Action Button (Scan) */
        .fab-scan {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            box-shadow: 0 4px 10px rgba(37, 99, 235, 0.4);
            transform: translateY(-20px);
            border: 4px solid white;
        }
        .fab-scan:active { transform: translateY(-18px) scale(0.95); }

        /* Nav Item */
        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #9ca3af;
            font-size: 10px;
            transition: color 0.2s;
        }
        .nav-item.active { color: #2563eb; }
        .nav-item i { font-size: 20px; margin-bottom: 4px; }

        /* CSS Charts for Executive */
        .bar-chart-container { display: flex; align-items: flex-end; height: 100px; gap: 8px; }
        .bar { flex: 1; background: #e5e7eb; border-radius: 4px 4px 0 0; position: relative; transition: height 1s ease-out; }
        .bar-fill { position: absolute; bottom: 0; left: 0; right: 0; background: #3b82f6; border-radius: 4px 4px 0 0; transition: height 1s ease-out; }
        
        /* Modal Animation */
        .modal-enter { animation: slideUp 0.3s forwards; }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

    </style>
</head>
<body>

    <div id="app-root">
        
        <header class="h-14 bg-white border-b border-gray-100 flex items-center justify-between px-4 sticky top-0 z-40">
            <div class="flex items-center gap-2">
                <div id="role-icon" class="w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm">U</div>
                <div>
                    <h1 id="header-title" class="text-sm font-bold text-gray-800">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏™‡∏î‡∏∏</h1>
                    <p id="header-subtitle" class="text-[10px] text-gray-500">User Mode</p>
                </div>
            </div>
            <button onclick="toggleRoleSelector()" class="text-gray-400 hover:text-gray-600 px-2">
                <i class="fas fa-exchange-alt"></i>
            </button>
        </header>

        <div id="main-view" class="p-4">
            </div>

        <div id="role-modal" class="hidden absolute inset-0 bg-black/80 z-[60] flex items-center justify-center p-6">
            <div class="bg-white w-full rounded-2xl p-5 animate__animated animate__zoomIn">
                <h2 class="text-lg font-bold mb-4 text-center">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó (Switch Role)</h2>
                <div class="grid grid-cols-2 gap-3">
                    <button onclick="switchRole('user')" class="p-4 bg-blue-50 rounded-xl text-center hover:bg-blue-100 border border-blue-100">
                        <i class="fas fa-user text-2xl text-blue-600 mb-2"></i>
                        <div class="text-sm font-bold text-blue-800">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
                    </button>
                    <button onclick="switchRole('staff')" class="p-4 bg-green-50 rounded-xl text-center hover:bg-green-100 border border-green-100">
                        <i class="fas fa-user-check text-2xl text-green-600 mb-2"></i>
                        <div class="text-sm font-bold text-green-800">‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</div>
                    </button>
                    <button onclick="switchRole('executive')" class="col-span-2 p-4 bg-purple-50 rounded-xl text-center hover:bg-purple-100 border border-purple-100">
                        <i class="fas fa-chart-pie text-2xl text-purple-600 mb-2"></i>
                        <div class="text-sm font-bold text-purple-800">‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£</div>
                    </button>
                </div>
                <button onclick="toggleRoleSelector()" class="mt-4 w-full py-2 text-gray-400 text-sm">‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á</button>
            </div>
        </div>

        <div id="qty-modal" class="hidden absolute inset-0 z-50 bg-black/50 flex flex-col justify-end">
            <div class="bg-white rounded-t-2xl p-6 modal-enter shadow-2xl">
                <div class="flex items-start gap-4 mb-6">
                    <div id="qty-img" class="w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center text-3xl">üì¶</div>
                    <div>
                        <h3 id="qty-name" class="font-bold text-lg text-gray-800">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
                        <p id="qty-stock" class="text-xs text-green-600 mb-1">‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: 100</p>
                        <p class="text-xs text-gray-400">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏°</p>
                    </div>
                </div>
                
                <div class="flex items-center justify-between bg-gray-50 rounded-xl p-2 mb-6 border border-gray-200">
                    <button onclick="adjustQty(-1)" class="w-12 h-12 bg-white rounded-lg shadow-sm text-gray-600 text-xl font-bold active:scale-95 transition">-</button>
                    <input id="qty-input" type="number" value="1" class="bg-transparent text-center text-2xl font-bold w-20 outline-none" readonly>
                    <button onclick="adjustQty(1)" class="w-12 h-12 bg-white rounded-lg shadow-sm text-blue-600 text-xl font-bold active:scale-95 transition">+</button>
                </div>

                <button onclick="confirmAddToCart()" class="w-full bg-blue-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg shadow-blue-500/30 active:scale-95 transition">
                    ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÉ‡∏™‡πà‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                </button>
                <button onclick="closeQtyModal()" class="w-full mt-2 py-3 text-gray-400 text-sm">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            </div>
        </div>

        <nav id="bottom-nav" class="bottom-nav">
            </nav>

    </div>

    <script>
        // --- DATA LAYER ---
        const DB = {
            assets: [
                { id: 1, name: "‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏Ç‡∏≤‡∏ß", stock: 200, used: 45, img: "ü™ë", cat: "furniture", popular: 98 },
                { id: 2, name: "‡πÇ‡∏ï‡πä‡∏∞‡∏û‡∏±‡∏ö‡∏≠‡πÄ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå", stock: 50, used: 12, img: "üü´", cat: "furniture", popular: 85 },
                { id: 3, name: "‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå‡∏ú‡πâ‡∏≤‡πÉ‡∏ö 3x3m", stock: 10, used: 10, img: "‚õ∫", cat: "outdoor", popular: 92 },
                { id: 4, name: "‡∏ä‡∏∏‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏Å‡∏û‡∏≤", stock: 5, used: 2, img: "üîä", cat: "tech", popular: 60 },
                { id: 5, name: "‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÄ‡∏ï‡∏≠‡∏£‡πå Epson", stock: 3, used: 1, img: "üìΩÔ∏è", cat: "tech", popular: 45 },
                { id: 6, name: "‡∏û‡∏±‡∏î‡∏•‡∏°‡πÑ‡∏≠‡∏ô‡πâ‡∏≥", stock: 8, used: 0, img: "üí®", cat: "outdoor", popular: 70 },
                { id: 7, name: "‡πÅ‡∏ú‡∏á‡∏Å‡∏±‡πâ‡∏ô‡∏à‡∏£‡∏≤‡∏à‡∏£", stock: 30, used: 5, img: "üöß", cat: "tool", popular: 30 }
            ],
            broken_logs: [
                { id: 'L-001', item: '‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÇ‡∏ü‡∏ô‡πÑ‡∏£‡πâ‡∏™‡∏≤‡∏¢', issue: '‡∏ï‡∏Å‡∏ô‡πâ‡∏≥ ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å', reporter: '‡∏ä‡∏∏‡∏°‡∏ä‡∏ô‡∏´‡∏°‡∏π‡πà 3', date: '20 ‡∏°.‡∏Ñ. 69' },
                { id: 'L-002', item: '‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å', issue: '‡∏Ç‡∏≤‡∏´‡∏±‡∏Å 2 ‡∏ï‡∏±‡∏ß', reporter: '‡∏ù‡πà‡∏≤‡∏¢‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô', date: '18 ‡∏°.‡∏Ñ. 69' },
                { id: 'L-003', item: '‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå‡∏ú‡πâ‡∏≤‡πÉ‡∏ö', issue: '‡πÇ‡∏Ñ‡∏£‡∏á‡πÄ‡∏´‡∏•‡πá‡∏Å‡∏á‡∏≠‡∏à‡∏≤‡∏Å‡∏•‡∏°‡∏û‡∏≤‡∏¢‡∏∏', reporter: '‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏ä‡∏≤‡∏î', date: '15 ‡∏°.‡∏Ñ. 69' }
            ],
            requests: [
                { id: 'R-101', user: '‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢', items: '‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ x 50', status: 'pending', date: '10:30' },
                { id: 'R-100', user: '‡∏ô.‡∏™.‡∏°‡∏≤‡∏ô‡∏µ', items: '‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÄ‡∏ï‡∏≠‡∏£‡πå x 1', status: 'approved', date: '09:15' }
            ]
        };

        let STATE = {
            role: 'user', // user, staff, executive
            cart: [],
            currentQtyItem: null,
            tempQty: 1
        };

        // --- INIT ---
        function init() {
            renderView();
        }

        // --- NAVIGATION & ROLE SWITCHING ---
        function toggleRoleSelector() {
            const modal = document.getElementById('role-modal');
            modal.classList.toggle('hidden');
        }

        function switchRole(role) {
            STATE.role = role;
            toggleRoleSelector();
            renderView();
        }

        function renderView() {
            const nav = document.getElementById('bottom-nav');
            const main = document.getElementById('main-view');
            const headerTitle = document.getElementById('header-title');
            const headerSub = document.getElementById('header-subtitle');
            const roleIcon = document.getElementById('role-icon');

            // Update Header
            if(STATE.role === 'user') {
                headerTitle.innerText = '‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏°‡∏û‡∏±‡∏™‡∏î‡∏∏';
                headerSub.innerText = '‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ';
                roleIcon.className = "w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm";
                roleIcon.innerText = "U";
                
                // User Nav
                nav.innerHTML = `
                    <div onclick="renderUserHome()" class="nav-item active"><i class="fas fa-home"></i><span>‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</span></div>
                    <div onclick="renderUserCart()" class="nav-item relative">
                        <i class="fas fa-shopping-basket"></i><span>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</span>
                        ${STATE.cart.length > 0 ? `<div class="absolute top-1 right-8 w-4 h-4 bg-red-500 rounded-full text-white text-[9px] flex items-center justify-center border border-white">${STATE.cart.length}</div>` : ''}
                    </div>
                    <div onclick="renderUserStatus()" class="nav-item"><i class="fas fa-clipboard-list"></i><span>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</span></div>
                `;
                renderUserHome();

            } else if (STATE.role === 'staff') {
                headerTitle.innerText = '‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà';
                headerSub.innerText = '‡∏ù‡πà‡∏≤‡∏¢‡∏û‡∏±‡∏™‡∏î‡∏∏ (L2)';
                roleIcon.className = "w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center font-bold text-sm";
                roleIcon.innerText = "S";

                // Staff Nav (Scanner in Middle)
                nav.innerHTML = `
                    <div onclick="renderStaffDashboard()" class="nav-item active"><i class="fas fa-th-large"></i><span>‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</span></div>
                    <div onclick="renderStaffTasks()" class="nav-item relative">
                        <i class="fas fa-bell"></i><span>‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</span>
                        <div class="absolute top-1 right-6 w-3 h-3 bg-red-500 rounded-full animate-pulse"></div>
                    </div>
                    <div class="nav-item" style="flex: 0 0 70px;">
                        <div onclick="renderScanner()" class="fab-scan"><i class="fas fa-qrcode"></i></div>
                    </div>
                    <div onclick="renderStaffHistory()" class="nav-item"><i class="fas fa-history"></i><span>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</span></div>
                    <div class="nav-item"><i class="fas fa-cog"></i><span>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</span></div>
                `;
                renderStaffDashboard();

            } else if (STATE.role === 'executive') {
                headerTitle.innerText = 'Executive View';
                headerSub.innerText = '‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°';
                roleIcon.className = "w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold text-sm";
                roleIcon.innerText = "E";

                // Executive Nav
                nav.innerHTML = `
                    <div onclick="renderExecutiveDashboard()" class="nav-item active text-purple-600"><i class="fas fa-chart-line"></i><span>Overview</span></div>
                    <div onclick="renderExecutiveBroken()" class="nav-item"><i class="fas fa-tools"></i><span>‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á</span></div>
                    <div class="nav-item"><i class="fas fa-star"></i><span>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à</span></div>
                `;
                renderExecutiveDashboard();
            }
        }

        // ==========================================
        // ROLE: USER
        // ==========================================

        function renderUserHome() {
            const main = document.getElementById('main-view');
            let html = `
                <div class="bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-4 text-white shadow-lg mb-6">
                    <h2 class="text-lg font-bold mb-1">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ, ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ä‡∏≤‡∏¢ üëã</h2>
                    <p class="text-xs text-blue-100 mb-3">‡∏ä‡∏∏‡∏°‡∏ä‡∏ô‡∏Ñ‡∏•‡∏≠‡∏á‡πÄ‡∏ï‡∏¢‡∏•‡πá‡∏≠‡∏Ñ 4-5-6</p>
                    <div class="flex gap-2">
                         <span class="bg-white/20 text-[10px] px-2 py-1 rounded">Credit Score: A+</span>
                         <span class="bg-white/20 text-[10px] px-2 py-1 rounded">‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: 100%</span>
                    </div>
                </div>

                <div class="flex gap-3 overflow-x-auto pb-2 mb-4 no-scrollbar">
                    <button class="bg-blue-600 text-white px-4 py-1.5 rounded-full text-xs whitespace-nowrap shadow-sm">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                    <button class="bg-white border border-gray-200 text-gray-600 px-4 py-1.5 rounded-full text-xs whitespace-nowrap">‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏ô‡∏¥‡πÄ‡∏à‡∏≠‡∏£‡πå</button>
                    <button class="bg-white border border-gray-200 text-gray-600 px-4 py-1.5 rounded-full text-xs whitespace-nowrap">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á</button>
                    <button class="bg-white border border-gray-200 text-gray-600 px-4 py-1.5 rounded-full text-xs whitespace-nowrap">‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏à‡∏£‡∏≤‡∏à‡∏£</button>
                </div>

                <h3 class="font-bold text-gray-700 mb-3 text-sm">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏™‡∏î‡∏∏‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡∏°‡πÑ‡∏î‡πâ</h3>
                <div class="grid grid-cols-2 gap-3 pb-20">
            `;

            DB.assets.forEach(item => {
                const stockLeft = item.stock - item.used;
                const isOut = stockLeft <= 0;
                html += `
                    <div onclick="${isOut ? '' : `openQtyModal(${item.id})`}" class="bg-white rounded-xl p-3 shadow-sm border border-gray-100 flex flex-col h-full active:scale-95 transition duration-200 ${isOut ? 'opacity-60 grayscale' : ''}">
                        <div class="h-24 bg-gray-50 rounded-lg flex items-center justify-center text-4xl mb-3 relative">
                            ${item.img}
                            ${isOut ? '<span class="absolute inset-0 flex items-center justify-center bg-gray-100/80 font-bold text-red-500 text-sm border-2 border-red-500 rounded-lg m-2 transform -rotate-12">‡∏Ç‡∏≠‡∏á‡∏´‡∏°‡∏î</span>' : ''}
                        </div>
                        <h4 class="font-bold text-gray-800 text-sm line-clamp-1">${item.name}</h4>
                        <div class="flex justify-between items-end mt-auto pt-2">
                            <span class="text-[10px] ${stockLeft < 5 ? 'text-red-500 font-bold' : 'text-green-600'}">‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${stockLeft} ‡∏ä‡∏¥‡πâ‡∏ô</span>
                            <div class="w-6 h-6 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center text-xs font-bold shadow-sm">+</div>
                        </div>
                    </div>
                `;
            });
            html += `</div>`;
            main.innerHTML = html;
        }

        // --- QTY MODAL LOGIC ---
        function openQtyModal(id) {
            const item = DB.assets.find(a => a.id === id);
            STATE.currentQtyItem = item;
            STATE.tempQty = 1;

            document.getElementById('qty-name').innerText = item.name;
            document.getElementById('qty-img').innerText = item.img;
            document.getElementById('qty-stock').innerText = `‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ${item.stock - item.used} ‡∏ä‡∏¥‡πâ‡∏ô`;
            document.getElementById('qty-input').value = 1;
            
            document.getElementById('qty-modal').classList.remove('hidden');
        }

        function adjustQty(delta) {
            const max = STATE.currentQtyItem.stock - STATE.currentQtyItem.used;
            let newQty = STATE.tempQty + delta;
            if(newQty < 1) newQty = 1;
            if(newQty > max) newQty = max;
            STATE.tempQty = newQty;
            document.getElementById('qty-input').value = newQty;
        }

        function closeQtyModal() {
            document.getElementById('qty-modal').classList.add('hidden');
        }

        function confirmAddToCart() {
            const item = STATE.currentQtyItem;
            const existing = STATE.cart.find(c => c.id === item.id);
            if(existing) {
                existing.qty += STATE.tempQty;
            } else {
                STATE.cart.push({ ...item, qty: STATE.tempQty });
            }
            
            closeQtyModal();
            renderView(); // Refresh badge
            
            Swal.fire({
                icon: 'success',
                title: '‡πÉ‡∏™‡πà‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß',
                text: `${item.name} x ${STATE.tempQty}`,
                timer: 1000,
                showConfirmButton: false,
                toast: true,
                position: 'top-end'
            });
        }

        // --- CART VIEW ---
        function renderUserCart() {
            const main = document.getElementById('main-view');
            if(STATE.cart.length === 0) {
                main.innerHTML = `<div class="h-full flex flex-col items-center justify-center text-gray-400">
                    <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center text-3xl mb-4">üõí</div>
                    <p>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏£‡∏±‡∏ö</p>
                    <button onclick="renderUserHome()" class="mt-4 text-blue-600 font-bold text-sm">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
                </div>`;
                return;
            }

            let html = `
                <h2 class="font-bold text-lg text-gray-800 mb-4 px-2">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (${STATE.cart.length})</h2>
                <div class="space-y-3 mb-6">
            `;

            STATE.cart.forEach((item, idx) => {
                html += `
                    <div class="bg-white p-4 rounded-xl shadow-sm flex items-center gap-4 border border-gray-100 animate__animated animate__fadeInRight">
                        <div class="w-12 h-12 bg-gray-50 rounded-lg flex items-center justify-center text-2xl">${item.img}</div>
                        <div class="flex-1">
                            <h4 class="font-bold text-gray-800 text-sm">${item.name}</h4>
                            <p class="text-xs text-blue-600 font-medium">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: ${item.qty} ‡∏ä‡∏¥‡πâ‡∏ô</p>
                        </div>
                        <button onclick="STATE.cart.splice(${idx},1); renderUserCart(); renderView();" class="w-8 h-8 rounded-full bg-red-50 text-red-500 flex items-center justify-center hover:bg-red-500 hover:text-white transition"><i class="fas fa-trash-alt text-xs"></i></button>
                    </div>
                `;
            });

            html += `
                </div>
                
                <div class="bg-white rounded-xl p-5 shadow-sm border border-gray-100 mb-20">
                    <h3 class="font-bold text-sm text-gray-700 mb-3 border-b pb-2">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏°</h3>
                    
                    <div class="grid grid-cols-2 gap-3 mb-3">
                        <div>
                            <label class="text-[10px] text-gray-500 font-bold uppercase">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á</label>
                            <input type="datetime-local" class="w-full bg-gray-50 border border-gray-200 rounded-lg px-2 py-2 text-xs mt-1">
                        </div>
                        <div>
                            <label class="text-[10px] text-gray-500 font-bold uppercase">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∑‡∏ô‡∏Ç‡∏≠‡∏á</label>
                            <input type="datetime-local" class="w-full bg-gray-50 border border-gray-200 rounded-lg px-2 py-2 text-xs mt-1">
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="text-[10px] text-gray-500 font-bold uppercase">‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå / ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
                        <textarea class="w-full bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-xs mt-1 h-20" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÉ‡∏ä‡πâ‡∏à‡∏±‡∏î‡∏á‡∏≤‡∏ô‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡πá‡∏Å ‡∏ì ‡∏•‡∏≤‡∏ô‡∏Å‡∏µ‡∏¨‡∏≤..."></textarea>
                    </div>

                    <button onclick="submitRequest()" class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg shadow-blue-500/30">
                        ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠
                    </button>
                </div>
            `;
            main.innerHTML = html;
        }

        function submitRequest() {
            Swal.fire({
                title: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...',
                html: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà',
                timer: 1500,
                timerProgressBar: true,
                didOpen: () => Swal.showLoading()
            }).then(() => {
                STATE.cart = [];
                DB.requests.unshift({ id: 'R-NEW', user: '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ä‡∏≤‡∏¢', items: '‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà...', status: 'pending', date: 'Now' });
                renderUserStatus();
                renderView(); // refresh badge
                Swal.fire('‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', '‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≠‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥', 'success');
            });
        }

        // --- STATUS VIEW ---
        function renderUserStatus() {
            const main = document.getElementById('main-view');
            let html = `<h2 class="font-bold text-lg text-gray-800 mb-4 px-2">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏≥‡∏Ç‡∏≠</h2><div class="space-y-3 pb-20">`;
            
            DB.requests.forEach(req => {
                let statusBadge = req.status === 'approved' 
                    ? '<span class="bg-green-100 text-green-700 text-[10px] px-2 py-1 rounded-full font-bold">‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß</span>' 
                    : '<span class="bg-orange-100 text-orange-700 text-[10px] px-2 py-1 rounded-full font-bold">‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</span>';
                
                html += `
                    <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <div class="text-xs text-gray-400 font-mono">ID: ${req.id}</div>
                                <div class="font-bold text-sm text-gray-800">${req.date}</div>
                            </div>
                            ${statusBadge}
                        </div>
                        <div class="bg-gray-50 p-2 rounded text-xs text-gray-600 mb-3">${req.items}</div>
                        ${req.status === 'approved' ? `<button onclick="Swal.fire('Scan QR','‡πÅ‡∏™‡∏î‡∏á QR Code ‡πÉ‡∏´‡πâ‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡πÅ‡∏Å‡∏ô','info')" class="w-full bg-green-500 text-white py-2 rounded-lg text-xs font-bold"><i class="fas fa-qrcode mr-1"></i> ‡∏™‡πÅ‡∏Å‡∏ô‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á</button>` : ''}
                    </div>
                `;
            });
            main.innerHTML = html;
        }

        // ==========================================
        // ROLE: STAFF
        // ==========================================

        function renderStaffDashboard() {
            const main = document.getElementById('main-view');
            main.innerHTML = `
                <div class="grid grid-cols-2 gap-3 mb-6">
                    <div class="bg-blue-600 p-4 rounded-2xl text-white shadow-lg shadow-blue-500/30 relative overflow-hidden">
                        <i class="fas fa-box-open absolute -right-4 -bottom-4 text-6xl opacity-20"></i>
                        <div class="text-3xl font-bold">12</div>
                        <div class="text-xs opacity-80">‡∏£‡∏≠‡∏™‡πà‡∏á‡∏°‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
                    </div>
                    <div class="bg-orange-500 p-4 rounded-2xl text-white shadow-lg shadow-orange-500/30 relative overflow-hidden">
                        <i class="fas fa-exclamation-circle absolute -right-4 -bottom-4 text-6xl opacity-20"></i>
                        <div class="text-3xl font-bold">3</div>
                        <div class="text-xs opacity-80">‡πÄ‡∏Å‡∏¥‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏∑‡∏ô</div>
                    </div>
                </div>

                <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-100 mb-6">
                    <h3 class="font-bold text-sm text-gray-700 mb-3">‡πÄ‡∏°‡∏ô‡∏π‡∏î‡πà‡∏ß‡∏ô (Quick Action)</h3>
                    <div class="grid grid-cols-3 gap-3">
                        <button onclick="renderScanner()" class="flex flex-col items-center justify-center bg-gray-50 p-3 rounded-xl hover:bg-blue-50 transition">
                            <div class="w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mb-2"><i class="fas fa-qrcode"></i></div>
                            <span class="text-[10px] font-bold text-gray-600">‡∏™‡πÅ‡∏Å‡∏ô</span>
                        </button>
                        <button class="flex flex-col items-center justify-center bg-gray-50 p-3 rounded-xl hover:bg-green-50 transition">
                            <div class="w-10 h-10 rounded-full bg-green-100 text-green-600 flex items-center justify-center mb-2"><i class="fas fa-plus"></i></div>
                            <span class="text-[10px] font-bold text-gray-600">‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤</span>
                        </button>
                        <button class="flex flex-col items-center justify-center bg-gray-50 p-3 rounded-xl hover:bg-red-50 transition">
                            <div class="w-10 h-10 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-2"><i class="fas fa-tools"></i></div>
                            <span class="text-[10px] font-bold text-gray-600">‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°</span>
                        </button>
                    </div>
                </div>

                <h3 class="font-bold text-sm text-gray-700 mb-3 px-1">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
                ${DB.requests.filter(r => r.status === 'pending').map(r => `
                    <div class="bg-white p-4 rounded-xl shadow-sm border-l-4 border-blue-500 mb-3">
                        <div class="flex justify-between">
                            <span class="font-bold text-sm">${r.user}</span>
                            <span class="text-[10px] text-gray-400">${r.date}</span>
                        </div>
                        <p class="text-xs text-gray-600 mt-1">${r.items}</p>
                        <div class="flex gap-2 mt-2">
                            <button class="flex-1 bg-green-500 text-white text-xs py-1.5 rounded">‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</button>
                            <button class="flex-1 bg-gray-100 text-gray-600 text-xs py-1.5 rounded">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</button>
                        </div>
                    </div>
                `).join('')}
            `;
        }

        function renderScanner() {
            const main = document.getElementById('main-view');
            main.innerHTML = `
                <div class="h-full flex flex-col bg-black rounded-xl overflow-hidden relative">
                    <div class="flex-1 bg-cover bg-center opacity-60" style="background-image: url('https://images.unsplash.com/photo-1566576912322-7e8abb0eb9e5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80');"></div>
                    
                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="w-64 h-64 border-2 border-green-400 rounded-2xl relative">
                            <div class="absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-green-500 -mt-1 -ml-1"></div>
                            <div class="absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-green-500 -mt-1 -mr-1"></div>
                            <div class="absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-green-500 -mb-1 -ml-1"></div>
                            <div class="absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-green-500 -mb-1 -mr-1"></div>
                            <div class="w-full h-0.5 bg-green-500 shadow-[0_0_15px_rgba(34,197,94,1)] absolute top-1/2 animate-[pulse_2s_infinite]"></div>
                        </div>
                    </div>
                    
                    <div class="absolute bottom-20 w-full text-center">
                        <p class="text-white font-bold animate-pulse mb-2">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ QR Code...</p>
                        <button onclick="Swal.fire('Scan Success', '‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: ‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡∏¢‡∏∑‡∏°‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ 50 ‡∏ï‡∏±‡∏ß', 'success')" class="bg-white/20 backdrop-blur-md border border-white/50 text-white px-6 py-2 rounded-full text-sm">
                            ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô
                        </button>
                    </div>
                </div>
            `;
        }

        // ==========================================
        // ROLE: EXECUTIVE
        // ==========================================
        
        function renderExecutiveDashboard() {
            const main = document.getElementById('main-view');
            main.innerHTML = `
                <div class="bg-gradient-to-br from-indigo-900 to-purple-800 rounded-2xl p-5 text-white shadow-xl mb-6">
                    <h2 class="text-sm font-bold text-indigo-200 mb-1 uppercase tracking-wider">Social Impact (‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)</h2>
                    <div class="flex items-baseline gap-2 mb-4">
                        <span class="text-4xl font-bold">1,248</span>
                        <span class="text-sm text-indigo-200">‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
                    </div>
                    <div class="flex gap-4 text-xs border-t border-indigo-700 pt-4">
                        <div>
                            <span class="block text-indigo-300">‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå</span>
                            <span class="font-bold text-lg">~5,000 ‡∏Ñ‡∏ô</span>
                        </div>
                        <div>
                            <span class="block text-indigo-300">‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏ä‡∏∏‡∏°‡∏ä‡∏ô</span>
                            <span class="font-bold text-lg">‡∏ø 2.5M</span>
                        </div>
                    </div>
                </div>

                <h3 class="font-bold text-gray-700 mb-3 px-1">Top 5 ‡∏û‡∏±‡∏™‡∏î‡∏∏‡∏Ç‡∏ß‡∏±‡∏ç‡πÉ‡∏à‡∏ä‡∏∏‡∏°‡∏ä‡∏ô</h3>
                <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-100 mb-6 space-y-4">
                    ${DB.assets.sort((a,b) => b.popular - a.popular).slice(0,5).map(item => `
                        <div>
                            <div class="flex justify-between text-xs mb-1">
                                <span class="font-bold text-gray-700">${item.img} ${item.name}</span>
                                <span class="text-blue-600 font-bold">${item.popular}% Utilization</span>
                            </div>
                            <div class="h-2 bg-gray-100 rounded-full overflow-hidden">
                                <div class="h-full bg-blue-500 rounded-full" style="width: ${item.popular}%"></div>
                            </div>
                        </div>
                    `).join('')}
                </div>

                <h3 class="font-bold text-gray-700 mb-3 px-1">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</h3>
                <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-100 mb-6 flex items-center justify-between">
                    <div class="text-center">
                        <div class="text-4xl font-bold text-yellow-500">4.8</div>
                        <div class="text-[10px] text-gray-400">‡∏à‡∏≤‡∏Å 5.0</div>
                        <div class="text-yellow-400 text-xs">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    </div>
                    <div class="flex-1 pl-6 space-y-1">
                        <div class="flex items-center gap-2 text-[10px] text-gray-500">
                            <span>5‚òÖ</span>
                            <div class="flex-1 h-1.5 bg-gray-100 rounded-full"><div class="w-[80%] h-full bg-yellow-400 rounded-full"></div></div>
                        </div>
                        <div class="flex items-center gap-2 text-[10px] text-gray-500">
                            <span>4‚òÖ</span>
                            <div class="flex-1 h-1.5 bg-gray-100 rounded-full"><div class="w-[15%] h-full bg-yellow-400 rounded-full"></div></div>
                        </div>
                        <div class="flex items-center gap-2 text-[10px] text-gray-500">
                            <span>3‚òÖ</span>
                            <div class="flex-1 h-1.5 bg-gray-100 rounded-full"><div class="w-[5%] h-full bg-yellow-400 rounded-full"></div></div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderExecutiveBroken() {
            const main = document.getElementById('main-view');
            main.innerHTML = `
                <h2 class="text-lg font-bold text-gray-800 mb-4 px-2">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢ (Lost/Damaged)</h2>
                
                <div class="flex gap-3 mb-6">
                    <div class="flex-1 bg-red-50 p-3 rounded-xl border border-red-100 text-center">
                        <div class="text-2xl font-bold text-red-600">3</div>
                        <div class="text-[10px] text-red-400">‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°‡πÉ‡∏´‡∏°‡πà</div>
                    </div>
                    <div class="flex-1 bg-orange-50 p-3 rounded-xl border border-orange-100 text-center">
                        <div class="text-2xl font-bold text-orange-600">1</div>
                        <div class="text-[10px] text-orange-400">‡∏™‡∏π‡∏ç‡∏´‡∏≤‡∏¢</div>
                    </div>
                    <div class="flex-1 bg-green-50 p-3 rounded-xl border border-green-100 text-center">
                        <div class="text-2xl font-bold text-green-600">12</div>
                        <div class="text-[10px] text-green-400">‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à</div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-gray-50 text-gray-500 text-[10px] uppercase">
                            <tr>
                                <th class="p-3 font-bold">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                                <th class="p-3 font-bold">‡∏≠‡∏≤‡∏Å‡∏≤‡∏£/‡∏õ‡∏±‡∏ç‡∏´‡∏≤</th>
                                <th class="p-3 font-bold">‡∏ú‡∏π‡πâ‡πÅ‡∏à‡πâ‡∏á</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                            ${DB.broken_logs.map(log => `
                                <tr>
                                    <td class="p-3 font-bold text-gray-700 text-xs">${log.item}</td>
                                    <td class="p-3 text-xs text-red-500">${log.issue}</td>
                                    <td class="p-3 text-[10px] text-gray-400">
                                        ${log.reporter}<br>${log.date}
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                    <div class="p-3 text-center text-xs text-blue-600 font-bold border-t border-gray-100 cursor-pointer">
                        ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                    </div>
                </div>
            `;
        }

        // --- Start App ---
        init();

    </script>
</body>
</html>
